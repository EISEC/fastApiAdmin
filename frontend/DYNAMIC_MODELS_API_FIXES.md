# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è API –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –º–æ–¥–µ–ª–µ–π

## üìã –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### üö® –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—É—Ç–µ–π API**: Frontend –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ API
2. **–ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã**: API —Å–µ—Ä–≤–∏—Å —Å–æ–¥–µ—Ä–∂–∞–ª –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ backend
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤**: –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç–æ–¥—ã –æ–∂–∏–¥–∞–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞
4. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É—Ç–µ–π API**: –ü—É—Ç–∏ —Å–æ–¥–µ—Ä–∂–∞–ª–∏ `/api/v1/api/v1/` –≤–º–µ—Å—Ç–æ `/api/v1/`
5. **–ü—Ä–æ–±–ª–µ–º–∞ —Å Select –≤ —Ñ–æ—Ä–º–∞—Ö**: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –±—ã–ª–æ –≤—ã–±—Ä–∞—Ç—å —Ç–∏–ø –º–æ–¥–µ–ª–∏ –∏ –¥—Ä—É–≥–∏–µ –ø–æ–ª—è Select
6. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç target_model**: Frontend –æ—Ç–ø—Ä–∞–≤–ª—è–ª –ø—Ä–æ—Å—Ç—ã–µ –∏–º–µ–Ω–∞ –º–æ–¥–µ–ª–µ–π –≤–º–µ—Å—Ç–æ —Ñ–æ—Ä–º–∞—Ç–∞ `app.Model`

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. **API Service (`dynamicModels.service.ts`)**

#### ‚ùå –£–¥–∞–ª–µ–Ω—ã –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:
- `getAvailableTargetModels()` - –º–µ—Ç–æ–¥ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ backend
- `checkModelNameUnique()` - –º–µ—Ç–æ–¥ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ backend  
- `rollbackModel()` - –º–µ—Ç–æ–¥ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ backend

#### ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –º–µ—Ç–æ–¥—ã:
- `getFieldTypeCategories()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π
- `updateModelExtension()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –º–æ–¥–µ–ª–∏
- `deleteModelExtension()` - —É–¥–∞–ª–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –º–æ–¥–µ–ª–∏
- `applyExtension()` - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—É—Ç—å)

#### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—É—Ç–∏ API:
- **–ö–†–ò–¢–ò–ß–ù–û**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ `/api/v1/` –≤ –ø—É—Ç—è—Ö
- –í—Å–µ –ø—É—Ç–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å backend —Ä–æ—É—Ç–∏–Ω–≥–æ–º
- –£–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –≤ URL —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–µ–Ω–∞ action –º–µ—Ç–æ–¥–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ backend ViewSet'–∞–º

```typescript
// –ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ):
class DynamicModelsService {
  private baseUrl = '/api/v1/dynamic-models'; // + apiClient.baseURL = '/api/v1' = /api/v1/api/v1/

// –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
class DynamicModelsService {
  private baseUrl = '/dynamic-models'; // + apiClient.baseURL = '/api/v1' = /api/v1/dynamic-models
```

#### üìä –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤:
- `bulkCreateData()` —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{ created_count: number; created_ids: number[] }`
- –£–±—Ä–∞–Ω–æ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ `entries` –∏–∑ –æ—Ç–≤–µ—Ç–∞

### 2. **Store (`dynamicModelsStore.ts`)**

#### üîÑ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `bulkCreateModelData()`:
```typescript
// –ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
set(state => ({
  modelData: [...result.entries, ...state.modelData] // entries –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
}));

// –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
const currentFilters = { dynamic_model: data.dynamic_model };
await get().fetchModelData(currentFilters); // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
```

### 3. **Form Components (`DynamicModelForm.tsx`)**

#### üéØ –ö–†–ò–¢–ò–ß–ù–û: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Select —Å React Hook Form

**–ü—Ä–æ–±–ª–µ–º–∞**: Select –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏ —Å React Hook Form —á–µ—Ä–µ–∑ `register()` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥–ª–∏ –≤—ã–±—Ä–∞—Ç—å —Ç–∏–ø –º–æ–¥–µ–ª–∏, —Å–∞–π—Ç –∏–ª–∏ —Ç–∏–ø –ø–æ–ª—è.

**–†–µ—à–µ–Ω–∏–µ**: –ó–∞–º–µ–Ω–∏–ª `register()` –Ω–∞ `Controller` –¥–ª—è –≤—Å–µ—Ö Select –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

```typescript
// –ë—ã–ª–æ (–Ω–µ —Ä–∞–±–æ—Ç–∞–ª–æ):
<Select
  {...register('model_type')}
  options={[
    { value: 'standalone', label: '–û—Ç–¥–µ–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å' },
    { value: 'extension', label: '–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –º–æ–¥–µ–ª–∏' }
  ]}
/>

// –°—Ç–∞–ª–æ (—Ä–∞–±–æ—Ç–∞–µ—Ç):
<Controller
  name="model_type"
  control={control}
  render={({ field }) => (
    <Select
      value={field.value}
      onChange={field.onChange}
      options={[
        { value: 'standalone', label: '–û—Ç–¥–µ–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å' },
        { value: 'extension', label: '–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –º–æ–¥–µ–ª–∏' }
      ]}
    />
  )}
/>
```

#### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ Select –ø–æ–ª—è:
- **–¢–∏–ø –º–æ–¥–µ–ª–∏**: `standalone` / `extension` - —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—ã–±–æ—Ä
- **–°–∞–π—Ç**: –í—ã–±–æ—Ä —Å–∞–π—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ - —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–¶–µ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å**: –î–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π - —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç  
- **–¢–∏–ø –ø–æ–ª—è**: –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–æ–ª–µ–π - —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç

#### üîß –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –∫–Ω–æ–ø–∫–æ–π "–°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å"

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è Select, –∫–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å" –æ—Å—Ç–∞–≤–∞–ª–∞—Å—å –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π –¥–∞–∂–µ –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª—è—Ö.

**–ü—Ä–∏—á–∏–Ω–∞**: –í `defaultValues` –¥–ª—è –ø–æ–ª—è `site` –±—ã–ª–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ `0`, —á—Ç–æ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏–ª–æ –≤–∞–ª–∏–¥–∞—Ü–∏—é Zod —Å—Ö–µ–º—ã `z.number().min(1, '–í—ã–±–µ—Ä–∏—Ç–µ —Å–∞–π—Ç')`.

**–†–µ—à–µ–Ω–∏–µ**:
1. ‚úÖ –ò–∑–º–µ–Ω–∏–ª `defaultValues.site` —Å `0` –Ω–∞ `undefined`
2. ‚úÖ –£–ª—É—á—à–∏–ª Zod —Å—Ö–µ–º—É –¥–ª—è –ª—É—á—à–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
3. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏–ª –æ–±—Ä–∞–±–æ—Ç–∫—É –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ Controller
4. ‚úÖ –î–æ–±–∞–≤–∏–ª –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```typescript
// –ë—ã–ª–æ (–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–æ –≤–∞–ª–∏–¥–∞—Ü–∏—é):
defaultValues: {
  site: 0, // –ù–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é min(1)
}

// –°—Ç–∞–ª–æ (—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ):
defaultValues: {
  site: undefined, // –ü–æ–∑–≤–æ–ª—è–µ—Ç Select —Ä–∞–±–æ—Ç–∞—Ç—å —Å placeholder
}

// –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ Controller:
onChange={(value) => {
  const numValue = value ? Number(value) : undefined;
  field.onChange(numValue);
}}
```

#### üö® –ò–°–ü–†–ê–í–õ–ï–ù–û: –û—à–∏–±–∫–∞ 400 –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –º–æ–¥–µ–ª–∏

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞ HTTP 400 (Bad Request).

**–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞**: 
1. Frontend –æ—Ç–ø—Ä–∞–≤–ª—è–ª **–í–°–ï –ø–æ–ª—è —Ñ–æ—Ä–º—ã** –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏, –≤–∫–ª—é—á–∞—è `site`, `model_type`, `target_model`
2. Backend –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ `unique_together = ['site', 'name', 'version']`
3. –ü–æ–ª—è `site`, `model_type`, `target_model` –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
4. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ backend —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–µ –æ—Ç–∫–ª–æ–Ω—è–ª–∞ –∑–∞–ø—Ä–æ—Å —Å –ª–∏—à–Ω–∏–º–∏ –ø–æ–ª—è–º–∏

**üîß –ò–¢–û–ì–û–í–û–ï –†–ï–®–ï–ù–ò–ï: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω Backend –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–æ–ª–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

–í–º–µ—Å—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è frontend, –±—ã–ª–æ –ø—Ä–∏–Ω—è—Ç–æ —Ä–µ—à–µ–Ω–∏–µ **–∏—Å–ø—Ä–∞–≤–∏—Ç—å backend**, —á—Ç–æ–±—ã —Ä–∞–∑—Ä–µ—à–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–ª–µ–π –º–æ–¥–µ–ª–∏, –≤–∫–ª—é—á–∞—è —Å–º–µ–Ω—É —Å–∞–π—Ç–∞ –∏ —Ç–∏–ø–∞ –º–æ–¥–µ–ª–∏.

### ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ Backend (`serializers.py`):

1. **–£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏**:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `site` –∏–ª–∏ `name`
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–º–µ–Ω—ã —Ç–∏–ø–∞ –º–æ–¥–µ–ª–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ `target_model` –ø—Ä–∏ —Å–º–µ–Ω–µ –Ω–∞ `standalone`

2. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–º–µ–Ω—ã —Ç–∏–ø–∞ –º–æ–¥–µ–ª–∏**:
   ```python
   elif model_type == 'standalone':
       # –î–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏ –æ—á–∏—â–∞–µ–º target_model –µ—Å–ª–∏ –æ–Ω –±—ã–ª —É–∫–∞–∑–∞–Ω
       if target_model:
           data['target_model'] = None
   ```

3. **–£–ª—É—á—à–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö**:
   ```python
   # –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤–º–µ—Å—Ç–æ –æ–±—â–∏—Ö —Å—Ç—Ä–æ–∫
   raise serializers.ValidationError({
       'target_model': "–î–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å —Ü–µ–ª–µ–≤—É—é –º–æ–¥–µ–ª—å"
   })
   ```

### ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ Frontend:

1. **–û–±–Ω–æ–≤–ª–µ–Ω —Ç–∏–ø `DynamicModelUpdateData`**:
   ```typescript
   export interface DynamicModelUpdateData {
     name?: string;
     site?: number;                    // ‚úÖ –¢–ï–ü–ï–†–¨ –ú–û–ñ–ù–û –ò–ó–ú–ï–ù–Ø–¢–¨
     description?: string;
     model_type?: 'standalone' | 'extension';  // ‚úÖ –¢–ï–ü–ï–†–¨ –ú–û–ñ–ù–û –ò–ó–ú–ï–ù–Ø–¢–¨
     target_model?: string;            // ‚úÖ –¢–ï–ü–ï–†–¨ –ú–û–ñ–ù–û –ò–ó–ú–ï–ù–Ø–¢–¨
     fields_config?: { fields: DynamicModelField[]; };
     validation_rules?: Record<string, any>;
     is_active?: boolean;
   }
   ```

2. **–í–æ–∑–≤—Ä–∞—â–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã**:
   ```typescript
   // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã - backend —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç—Ç–æ
   const updatedModel = await updateModel(model.id, data as DynamicModelUpdateData);
   ```

### üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç - –ü–æ–ª–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏:

- ‚úÖ **–°–º–µ–Ω–∞ —Å–∞–π—Ç–∞**: –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ –¥—Ä—É–≥–æ–π —Å–∞–π—Ç
- ‚úÖ **–°–º–µ–Ω–∞ —Ç–∏–ø–∞ –º–æ–¥–µ–ª–∏**: `standalone` ‚Üî `extension`
- ‚úÖ **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–π –º–æ–¥–µ–ª–∏**: –î–ª—è —Ç–∏–ø–∞ `extension`
- ‚úÖ **–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è**: –ù–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –ø–æ–ª—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è
- ‚úÖ **–£–º–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- ‚úÖ **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞**: `target_model` –æ—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ –Ω–∞ `standalone`

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **Backend –∏—Å–ø—Ä–∞–≤–ª–µ–Ω** - —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª–µ–π –º–æ–¥–µ–ª–∏

#### üéØ –ö–†–ò–¢–ò–ß–ù–û: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ñ–æ—Ä–º–∞—Ç target_model

**–ü—Ä–æ–±–ª–µ–º–∞**: Backend –æ–∂–∏–¥–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç `'app.Model'` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `'posts.Post'`), –∞ frontend –æ—Ç–ø—Ä–∞–≤–ª—è–ª –ø—Ä–æ—Å—Ç—ã–µ –∏–º–µ–Ω–∞ (`'Post'`).

**–û—à–∏–±–∫–∞**: `{"target_model":["–¶–µ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ 'app.Model'"]}`

**–ü—Ä–∏—á–∏–Ω–∞**: –í `availableTargetModels` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –ø—Ä–æ—Å—Ç—ã–µ –∏–º–µ–Ω–∞ –º–æ–¥–µ–ª–µ–π:
```typescript
// –ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
const availableTargetModels = [
  { model: 'Post', label: '–ü–æ—Å—Ç—ã' },
  { model: 'Page', label: '–°—Ç—Ä–∞–Ω–∏—Ü—ã' },
  { model: 'User', label: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏' },
  { model: 'Site', label: '–°–∞–π—Ç—ã' },
];
```

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞–∑–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å backend —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:
```typescript
// –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
const availableTargetModels = [
  { model: 'posts.Post', label: '–ü–æ—Å—Ç—ã' },
  { model: 'pages.Page', label: '–°—Ç—Ä–∞–Ω–∏—Ü—ã' },
  { model: 'accounts.CustomUser', label: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏' },
  { model: 'sites.Site', label: '–°–∞–π—Ç—ã' },
];
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ backend —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**:
- ‚úÖ `apps/posts/models.py` ‚Üí –º–æ–¥–µ–ª—å `Post` ‚Üí `posts.Post`
- ‚úÖ `apps/pages/models.py` ‚Üí –º–æ–¥–µ–ª—å `Page` ‚Üí `pages.Page`
- ‚úÖ `apps/accounts/models.py` ‚Üí –º–æ–¥–µ–ª—å `CustomUser` ‚Üí `accounts.CustomUser`
- ‚úÖ `apps/sites/models.py` ‚Üí –º–æ–¥–µ–ª—å `Site` ‚Üí `sites.Site`

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- ‚úÖ Frontend —Ç–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç target_model
- ‚úÖ Backend –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ü–µ–ª–µ–≤—ã–µ –º–æ–¥–µ–ª–∏
- ‚úÖ –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞

---

## üèóÔ∏è –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API endpoints

### –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø—É—Ç–∏ (–±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è):
```
http://localhost:8000/api/v1/dynamic-models/models/           # DynamicModelViewSet
http://localhost:8000/api/v1/dynamic-models/data/             # DynamicModelDataViewSet  
http://localhost:8000/api/v1/dynamic-models/field-types/      # DynamicFieldTypeViewSet
http://localhost:8000/api/v1/dynamic-models/versions/         # DynamicModelVersionViewSet
http://localhost:8000/api/v1/dynamic-models/extensions/       # DynamicModelExtensionViewSet
http://localhost:8000/api/v1/dynamic-models/permissions/      # DynamicModelPermissionViewSet
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ action –º–µ—Ç–æ–¥—ã:
```
# DynamicModelViewSet
POST /models/{id}/preview/               # –ü—Ä–µ–≤—å—é –º–æ–¥–µ–ª–∏
GET  /models/{id}/export_config/         # –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏  
POST /models/import_config/              # –ò–º–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
POST /models/{id}/create_version/        # –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏

# DynamicModelDataViewSet  
GET  /data/schema/                       # –°—Ö–µ–º–∞ –º–æ–¥–µ–ª–∏
POST /data/bulk_create/                  # –ú–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ

# DynamicFieldTypeViewSet
GET  /field-types/categories/            # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π

# DynamicModelExtensionViewSet
POST /extensions/{id}/apply_extension/   # –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
```

---

## üìä –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö API

### –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ç–∏–ø—ã –æ—Ç–≤–µ—Ç–æ–≤:

```typescript
// Bulk create –æ—Ç–≤–µ—Ç:
interface BulkCreateResponse {
  created_count: number;
  created_ids: number[];
}

// Field type categories:
interface FieldTypeCategory {
  value: string;
  label: string;
}

// Extension apply –æ—Ç–≤–µ—Ç:
interface ExtensionApplyResponse {
  status: string;
  message: string;
}
```

---

## üß™ –°—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### ‚úÖ **TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è**: –ë–µ–∑ –æ—à–∏–±–æ–∫
### ‚úÖ **API —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å backend
### ‚úÖ **–ú–µ—Ç–æ–¥—ã API**: –¢–æ–ª—å–∫–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã
### ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤**: –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç backend
### ‚úÖ **–ü—É—Ç–∏ API**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ `/api/v1/`
### ‚úÖ **–§–æ—Ä–º–∞—Ç target_model**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç `app.Model`

---

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

**–°–∏—Å—Ç–µ–º–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –º–æ–¥–µ–ª–µ–π –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

- üîß API –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- üìù –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç
- üé® –ü—Ä–µ–≤—å—é –∏ —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∞—é—Ç
- üíæ Bulk –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- üîí –°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞
- üåê **API –ø—É—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ (–±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è)**
- üéØ **–§–æ—Ä–º–∞—Ç target_model –∏—Å–ø—Ä–∞–≤–ª–µ–Ω**

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: –°–µ–≥–æ–¥–Ω—è  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: üöÄ 100% 